s
@basket
n
c
appliers.keys[current_appliers_index]
@basket[appliers.keys[current_appliers_index]]
@basket[appliers.keys[current_appliers_index]][:remaining_count]
current_appliers_index
s
current_appliers_index
@basket[appliers.keys[current_appliers_index]][:remaining_count].zero?
@basket[appliers.keys[current_appliers_index]][:remaining_count]
@basket[appliers.keys[current_appliers_index]][:total_price]
n
offer.discounted_price_per_unit
@basket[appliers.keys[current_appliers_index]][:total_price]
@basket[appliers.keys[current_appliers_index]][:remaining_count]
n
@basket[appliers.keys[current_appliers_index]][:remaining_count]
appliers.keys[current_appliers_index]
s
n
 offer.applied_quantity
s
times_qualified
n
offer.applied_quantity
appliers_quantity
n
appliers
n
qualifiers_quantity
n
qualifiers
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
s
@basket
n
c
@basket
n
@basket
n
exit
@store.special_offers.sort_by { |offer| offer.discounted_price_per_unit  }
@store.special_offers
n
c
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
s
n
c
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
n
offer
s
@basket
n
c
@basket
n
@basket
n
exit
offer.qualifying_quantity
qualifiers_quantity
qualifiers_quantuty
times_qualified
n
qualifiers
n
offer
s
n
c
@basket
n
offer
s
@basket
n
exit
times_qualified
n
offer.applied_quantity
applyiers_quantity
n
appliers
n
qualifiers_quantity >= offer.qualifying_quantity
qualifiers_quantity
n
qualifiers_quantity
qualifiers_quantiry
n
qualifiers
n
s
@basket
n
exit
(@basket.keys & offer.qualifying_skus & offer.applied_skus).empty?
(@basket.keys & offer.qualifying_skus).empty? && (@basket.keys & offer.applied_skus).empty?
@basket.keys & offer.qualifying_skus & offer.applied_skus
offer.applied_skus
offer.qualifying_skus
@basket.keys
offer
s
@basket
n
c
@store.special_offers.sort_by { |offer| offer.discounted_price_per_unit  }
puts @store.special_offers.sort_by { |offer| offer.discounted_price_per_unit  }
@store.special_offers.sort_by { |offer| offer.discounted_price_per_unit  }
offer
s
n
s
n
s
n
s
@basket
n
c
n
s
@basket
n
exit
@basket
n
@basket
?basket
n
exit
offer
offers
s
@basket
n
s
exit
offer
s
@basket
n
exit
qualifiers.empty?
qualifiers
n
offer
n
@basket
n
@basket
n
s
n
ticker
ticketr
n
s
times_qualified
n
@basket
n
offer.qualifying_quantity
qualifiers_quantity
n
offer
s
n
c
exit
qualifiers_quantity
n
qualifiers
n
offer
s
n
exit
offer
n
offer
s
@basket


